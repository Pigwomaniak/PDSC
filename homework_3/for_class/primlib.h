#ifndef __PRIMLIB_H__
#define __PRIMLIB_H__

#include <SDL/SDL.h>
#include <SDL/SDL_gfxPrimitives.h>
int initGraph();
enum color {BLACK, RED, GREEN, BLUE, CYAN, MAGENTA, YELLOW, WHITE, COLOR_MAX};
void pixel(int x, int y, enum color c);
void line(int x1, int y1, int x2, int y2, enum color c);
void circle(int x, int y, int r, enum color c);
void filledRect(int x1, int y1, int x2, int y2, enum color c);
void filledCircle(int x, int y, int r, enum color c);
void rect(int x1, int y1, int x2, int y2, enum color c);
void textout(int x, int y, char *s, enum color c);
int screenWidth();
int screenHeight();
void updateScreen();
int pollkey();
int getkey();
int isKeyDown(int key);

static const char blocks [7 /*kind */ ][4 /* rotation */ ][4][4] =
{
/* square */
    {
        {
                {2, 1, 0, 0},
                {1, 1, 0, 0},
                {0, 0, 0, 0},
                {0, 0, 0, 0}
        },
        {
                {2, 1, 0, 0},
                {1, 1, 0, 0},
                {0, 0, 0, 0},
                {0, 0, 0, 0}
        },
        {
                {2, 1, 0, 0},
                {1, 1, 0, 0},
                {0, 0, 0, 0},
                {0, 0, 0, 0}
        },
        {
                {2, 1, 0, 0},
                {1, 1, 0, 0},
                {0, 0, 0, 0},
                {0, 0, 0, 0}
        }
    },
/* I */

        {
            {
                    {1, 2, 1, 1},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 0, 0, 0},
                    {2, 0, 0, 0},
                    {1, 0, 0, 0},
                    {1, 0, 0, 0}
            },
            {
                    {1, 1, 2, 1},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 0, 0, 0},
                    {1, 0, 0, 0},
                    {2, 0, 0, 0},
                    {1, 0, 0, 0}
            }
        }
        ,
/* L */
        {
            {
                    {1, 0, 0, 0},
                    {2, 0, 0, 0},
                    {1, 1, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 2, 1, 0},
                    {1, 0, 0, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 1, 0, 0},
                    {0, 2, 0, 0},
                    {0, 1, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {0, 0, 1, 0},
                    {1, 2, 1, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            }
        },
/* L mirrored */
        {
            {
                    {0, 1, 0, 0},
                    {0, 2, 0, 0},
                    {1, 1, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 0, 0, 0},
                    {1, 2, 1, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 1, 0, 0},
                    {2, 0, 0, 0},
                    {1, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 2, 1, 0},
                    {0, 0, 1, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            }
        },
/* N */
        {
            {
                    {0, 1, 0, 0},
                    {2, 1, 0, 0},
                    {1, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 2, 0, 0},
                    {0, 1, 1, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {0, 1, 0, 0},
                    {1, 2, 0, 0},
                    {1, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 1, 0, 0},
                    {0, 2, 1, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            }
        },
/* N mirrored */
        {
            {
                    {1, 0, 0, 0},
                    {2, 1, 0, 0},
                    {0, 1, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {0, 2, 1, 0},
                    {1, 1, 0, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 0, 0, 0},
                    {1, 2, 0, 0},
                    {0, 1, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {0, 1, 1, 0},
                    {1, 2, 0, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            }
        },
/* T */
        {
            {
                    {1, 0, 0, 0},
                    {2, 1, 0, 0},
                    {1, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {1, 2, 1, 0},
                    {0, 1, 0, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {0, 1, 0, 0},
                    {1, 2, 0, 0},
                    {0, 1, 0, 0},
                    {0, 0, 0, 0}
            },
            {
                    {0, 1, 0, 0},
                    {1, 2, 1, 0},
                    {0, 0, 0, 0},
                    {0, 0, 0, 0}
            }
        }
};


#endif /* __PRIMLIB_H__ */
